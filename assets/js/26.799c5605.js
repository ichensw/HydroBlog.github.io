(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{532:function(a,t,s){"use strict";s.r(t);var r=s(3),_=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch基础讲解与安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch基础讲解与安装"}},[a._v("#")]),a._v(" ElasticSearch基础讲解与安装")]),a._v(" "),s("h2",{attrs:{id:"_1、为什么使用elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、为什么使用elasticsearch"}},[a._v("#")]),a._v(" 1、为什么使用ElasticSearch ？")]),a._v(" "),s("h3",{attrs:{id:"案例场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例场景"}},[a._v("#")]),a._v(" 案例场景：")]),a._v(" "),s("p",[a._v("​\t需要模糊查询一条数据，数据量有千万级。")]),a._v(" "),s("h3",{attrs:{id:"实现方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现方法"}},[a._v("#")]),a._v(" 实现方法：")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("使用SQL语句的like查询？")]),a._v(" "),s("p",[a._v("select * from goods where title like '%荣耀%';\n数据量庞大时，应该如何处理？\n商品数据量超过千万，一次查询得花费大量时间。")])]),a._v(" "),s("li",[s("p",[a._v("使用全文检索（ElasticSearch等）")]),a._v(" "),s("p",[a._v("主流搜索技术")])])]),a._v(" "),s("h2",{attrs:{id:"_2、什么是全文检索"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、什么是全文检索"}},[a._v("#")]),a._v(" 2、什么是全文检索")]),a._v(" "),s("ol",[s("li",[s("h3",{attrs:{id:"数据的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据的分类"}},[a._v("#")]),a._v(" 数据的分类")]),a._v(" "),s("p",[a._v("数据总共分为两类：结构化数据、非结构化数据")]),a._v(" "),s("h4",{attrs:{id:"结构化数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结构化数据"}},[a._v("#")]),a._v(" 结构化数据：")]),a._v(" "),s("p",[a._v("​\t固定格式、有限长度、数据类型固定")]),a._v(" "),s("p",[a._v("​\t例如：数据库中的数据就是结构化数据")]),a._v(" "),s("h4",{attrs:{id:"非结构化数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非结构化数据"}},[a._v("#")]),a._v(" 非结构化数据：")]),a._v(" "),s("p",[a._v("​\t格式不固定、长度不固定、数据类型不固定")]),a._v(" "),s("p",[a._v("​\t例如：磁盘上的文件")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"结构化数据的搜索-数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结构化数据的搜索-数据库"}},[a._v("#")]),a._v(" 结构化数据的搜索（数据库）")]),a._v(" "),s("p",[a._v("直接使用SQL语句进行查询")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"非结构化数据的查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非结构化数据的查询"}},[a._v("#")]),a._v(" 非结构化数据的查询")]),a._v(" "),s("p",[a._v("需求：找出文件内容中包含Java的所有文件")]),a._v(" "),s("h4",{attrs:{id:"实现思路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现思路"}},[a._v("#")]),a._v(" 实现思路：")]),a._v(" "),s("ol",[s("li",[s("h5",{attrs:{id:"顺序扫描-暴力模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#顺序扫描-暴力模式"}},[a._v("#")]),a._v(" 顺序扫描---暴力模式")]),a._v(" "),s("p",[a._v("数据量庞大，性能差。")])]),a._v(" "),s("li",[s("h5",{attrs:{id:"把非结构化数据变成结构化数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把非结构化数据变成结构化数据"}},[a._v("#")]),a._v(" 把非结构化数据变成结构化数据")]),a._v(" "),s("p",[a._v("基于结构化数据创建索引，然后在查询。")]),a._v(" "),s("p",[s("strong",[a._v("索引")]),a._v("：是一个独立的数据结构，b+tree结构。为了提高查询效率创建，需要独立占用磁盘空间。")]),a._v(" "),s("p",[s("strong",[a._v("停用词")]),a._v("：没有意义的词，例如英文中的and、the、a、an等。")]),a._v(" "),s("p",[s("strong",[a._v("全文检索")]),a._v("：先对内容进行分词处理，根据空格对文章内容进行字符串拆分。合并"),s("code",[a._v("重复的单词")]),a._v("、去除"),s("code",[a._v("标点符号")]),a._v("、去除"),s("code",[a._v("停用词")]),a._v("。\n创建索引，然后查询索引的过程就叫做全文检索。\t\n索引可以一次创建多次使用，表现为每次查询速度都非常快。")])])])])]),a._v(" "),s("h2",{attrs:{id:"_3、全文检索的应用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、全文检索的应用场景"}},[a._v("#")]),a._v(" 3、全文检索的应用场景")]),a._v(" "),s("ol",[s("li",[s("h3",{attrs:{id:"搜索引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索引擎"}},[a._v("#")]),a._v(" 搜索引擎")]),a._v(" "),s("p",[a._v("使用爬虫程序抓取网页的内容，分词创建索引。")]),a._v(" "),s("p",[a._v("搜索时，直接查询索引。")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"站内搜索"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#站内搜索"}},[a._v("#")]),a._v(" 站内搜索")]),a._v(" "),s("p",[a._v("电商搜索\n论坛搜索\n微博搜索")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"搜索磁盘上的文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索磁盘上的文件"}},[a._v("#")]),a._v(" 搜索磁盘上的文件")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"只要有查询的地方就可以使用全文检索。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#只要有查询的地方就可以使用全文检索。"}},[a._v("#")]),a._v(" 只要有查询的地方就可以使用全文检索。")])])]),a._v(" "),s("h2",{attrs:{id:"_4、如何实现全文检索"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、如何实现全文检索"}},[a._v("#")]),a._v(" 4、如何实现全文检索")]),a._v(" "),s("ol",[s("li",[s("h3",{attrs:{id:"使用lucene-在java中唯一的一个全文检索技术。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用lucene-在java中唯一的一个全文检索技术。"}},[a._v("#")]),a._v(" 使用lucene，在java中唯一的一个全文检索技术。")]),a._v(" "),s("p",[a._v("一个全文检索工具包。很少直接使用。相当于ES和Solr等技术的底层工具包")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"solr、elasticsearch-es"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solr、elasticsearch-es"}},[a._v("#")]),a._v(" Solr、ElasticSearch（ES）")]),a._v(" "),s("p",[a._v("推荐使用。\n都是基于Lucene的全文检索服务器。独立运行，支持集群。\n实时搜索时，ES的性能更好。")])])]),a._v(" "),s("h2",{attrs:{id:"_5、全文检索的流程-仅讲述流程-未有实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、全文检索的流程-仅讲述流程-未有实例"}},[a._v("#")]),a._v(" 5、全文检索的流程 (仅讲述流程,未有实例)")]),a._v(" "),s("ol",[s("li",[s("h3",{attrs:{id:"创建索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[a._v("#")]),a._v(" 创建索引")]),a._v(" "),s("ol",[s("li",[s("h4",{attrs:{id:"采集数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#采集数据"}},[a._v("#")]),a._v(" 采集数据")]),a._v(" "),s("p",[a._v("可以各种新式的数据源\n搜索引擎：爬虫，从互联网抓取数据\n站内搜索：数据库\n文件搜索：磁盘上的文件")])]),a._v(" "),s("li",[s("h4",{attrs:{id:"创建文档对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建文档对象"}},[a._v("#")]),a._v(" 创建文档对象")]),a._v(" "),s("p",[a._v("把原始文档进行封装。Document对象。\n其中包含多个field\n每个field可以自定一个名称，不同的Document中可以有不同的field。")])]),a._v(" "),s("li",[s("h4",{attrs:{id:"分析文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析文档"}},[a._v("#")]),a._v(" 分析文档")])])]),a._v(" "),s("p",[a._v("对其中需要分析的field进行分析处理，可以在field中进行指定。\n分词：进行关键词拆分。\n去除标点符号，合并相同的单词。\n去除停用词\n转换大小写\n最终得到一个单词列表")]),a._v(" "),s("p",[a._v("其中并不是所有的field都需要分析，例如文件的路径。\n单词列表中，其中一个关键词就是一个term。")]),a._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("h4",{attrs:{id:"创建索引-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建索引-2"}},[a._v("#")]),a._v(" 创建索引")]),a._v(" "),s("p",[a._v("其中包含三部分内容：\n1）索引：基于关键词（term）创建的。\n2）文档对象：Document，第二步封装好的Document对象。\n3）关键词和文档的对应关系")])])])]),a._v(" "),s("li",[s("h3",{attrs:{id:"查询索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询索引"}},[a._v("#")]),a._v(" 查询索引")]),a._v(" "),s("ol",[s("li",[s("h4",{attrs:{id:"用户接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户接口"}},[a._v("#")]),a._v(" 用户接口")]),a._v(" "),s("p",[a._v("用户输入查询内容\n输入可以是一个关键词，也可以是一句话。")])]),a._v(" "),s("li",[s("h4",{attrs:{id:"封装查询条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装查询条件"}},[a._v("#")]),a._v(" 封装查询条件")]),a._v(" "),s("p",[a._v("需要把用户输入的内容进行分词处理。得到一个单词列表。\n需要指定要查询的field。\n查询条件：\nfield：value")])]),a._v(" "),s("li",[s("h4",{attrs:{id:"执行查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行查询"}},[a._v("#")]),a._v(" 执行查询")]),a._v(" "),s("p",[a._v("在索引中根据查询条件查询对应的字段，找到对应的关键词。\n如果关键词在索引中存在的就能查询到结果。如果不存在就没有结果。\n根据关键词找到对应的文档id列表，根据文档id查询到对应的Document对象。")])]),a._v(" "),s("li",[s("h4",{attrs:{id:"展示结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#展示结果"}},[a._v("#")]),a._v(" 展示结果")]),a._v(" "),s("p",[a._v("关键词的高亮显示，分页处理，根据相关度进行排序。")])])])])]),a._v(" "),s("h2",{attrs:{id:"_6、es下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、es下载"}},[a._v("#")]),a._v(" 6、ES下载")]),a._v(" "),s("p",[a._v("​\t官方网站或者如下地址。\n​\t下载地址：\n​\t链接：https://pan.baidu.com/s/1Tdsgm9608fyt_j7gMsLZhg\n​\t提取码：e2nd")]),a._v(" "),s("h2",{attrs:{id:"_7、安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、安装"}},[a._v("#")]),a._v(" 7、安装")]),a._v(" "),s("ol",[s("li",[s("h3",{attrs:{id:"安装elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch"}},[a._v("#")]),a._v(" 安装ElasticSearch")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"安装elasticsearch-head客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch-head客户端"}},[a._v("#")]),a._v(" 安装elasticsearch-head客户端")]),a._v(" "),s("p",[a._v("使用nodejs开发的。")])]),a._v(" "),s("li",[s("h3",{attrs:{id:"安装kibana"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装kibana"}},[a._v("#")]),a._v(" 安装kibana")]),a._v(" "),s("p",[a._v("devTools功能实现对ES的管理")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);