(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{548:function(t,s,e){"use strict";e.r(s);var a=e(3),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"mysql执行计划"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql执行计划"}},[t._v("#")]),t._v(" MySQL执行计划")]),t._v(" "),e("p",[t._v("​       在企业的应用场景中，为了知道优化SQL语句的执行，需要查看SQL语句的具体执行过程，以加快SQL语句的执行效率。")]),t._v(" "),e("p",[t._v("​       可以使用explain+SQL语句来模拟优化器执行SQL查询语句，从而知道mysql是如何处理sql语句的。")]),t._v(" "),e("p",[t._v("​\t   官网地址： https://dev.mysql.com/doc/refman/5.5/en/explain-output.html")]),t._v(" "),e("h3",{attrs:{id:"_1、执行计划中包含的信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、执行计划中包含的信息"}},[t._v("#")]),t._v(" 1、执行计划中包含的信息")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("Column")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Meaning")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The "),e("code",[t._v("SELECT")]),t._v(" identifier")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("select_type")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The "),e("code",[t._v("SELECT")]),t._v(" type")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("table")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The table for the output row")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("partitions")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The matching partitions")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The join type")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("possible_keys")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The possible indexes to choose")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("key")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The index actually chosen")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("key_len")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The length of the chosen key")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("ref")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The columns compared to the index")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("rows")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Estimate of rows to be examined")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("filtered")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Percentage of rows filtered by table condition")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("extra")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Additional information")])])])]),t._v(" "),e("p",[e("strong",[t._v("id")])]),t._v(" "),e("p",[t._v("select查询的序列号，包含一组数字，表示查询中执行select子句或者操作表的顺序")]),t._v(" "),e("p",[t._v("id号分为三种情况：")]),t._v(" "),e("p",[t._v("​\t\t1、如果id相同，那么执行顺序从上到下")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" dept d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" salgrade sg "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("between")]),t._v(" sg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("losal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" sg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hisal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("​\t\t2、如果id不同，如果是子查询，id的序号会递增，id值越大优先级越高，越先被执行")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SALES'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("​\t\t3、id相同和不同的，同时存在：相同的可以认为是一组，从上往下顺序执行，在所有组中，id值越大，优先级越高，越先执行")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" dept d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" salgrade sg "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("between")]),t._v(" sg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("losal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" sg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hisal "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dname "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SALES'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("select_type")])]),t._v(" "),e("p",[t._v("主要用来分辨查询的类型，是普通查询还是联合查询还是子查询")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[e("code",[t._v("select_type")]),t._v(" Value")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Meaning")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("SIMPLE")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Simple SELECT (not using UNION or subqueries)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("PRIMARY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Outermost SELECT")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("UNION")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Second or later SELECT statement in a UNION")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("DEPENDENT UNION")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Second or later SELECT statement in a UNION, dependent on outer query")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("UNION RESULT")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Result of a UNION.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("SUBQUERY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("First SELECT in subquery")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("DEPENDENT SUBQUERY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("First SELECT in subquery, dependent on outer query")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("DERIVED")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Derived table")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("UNCACHEABLE SUBQUERY")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("A subquery for which the result cannot be cached and must be re-evaluated for each row of the outer query")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("UNCACHEABLE UNION")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("The second or later select in a UNION that belongs to an uncacheable subquery (see UNCACHEABLE SUBQUERY)")])])])]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--sample:简单的查询，不包含子查询和union")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--primary:查询中若包含任何复杂的子查询，最外层查询则被标记为Primary")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" staname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ename supname "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ename staname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mgr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" t "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mgr"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--union:若第二个select出现在union之后，则被标记为union")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--dependent union:跟union类似，此处的depentent表示union或union all联合而成的结果会受外部表影响")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--union result:从union表获取结果的select")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--subquery:在select或者where列表中包含子查询")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" sal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--dependent subquery:subquery的子查询要受到外部表查询的影响")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("distinct")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--DERIVED: from子句中出现的子查询，也叫做派生类，")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" staname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ename supname "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ename staname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mgr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" t "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mgr"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--UNCACHEABLE SUBQUERY：表示使用子查询的结果不能被缓存")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" deptno"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@sort_buffer_size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--uncacheable union:表示union的查询结果不能被缓存：sql语句未验证")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br")])]),e("p",[e("strong",[t._v("table")])]),t._v(" "),e("p",[t._v("对应行正在访问哪一个表，表名或者别名，可能是临时表或者union合并结果集\n1、如果是具体的表名，则表明从实际的物理表中获取数据，当然也可以是表的别名")]),t._v(" "),e("p",[t._v("​\t\t2、表名是derivedN的形式，表示使用了id为N的查询产生的衍生表")]),t._v(" "),e("p",[t._v("​\t\t3、当有union result的时候，表名是union n1,n2等的形式，n1,n2表示参与union的id")]),t._v(" "),e("p",[e("strong",[t._v("type")])]),t._v(" "),e("p",[t._v("type显示的是访问类型，访问类型表示我是以何种方式去访问我们的数据，最容易想的是全表扫描，直接暴力的遍历一张表去寻找需要的数据，效率非常低下，访问的类型有很多，效率从最好到最坏依次是：")]),t._v(" "),e("p",[t._v("system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL")]),t._v(" "),e("p",[t._v("一般情况下，得保证查询至少达到range级别，最好能达到ref")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--all:全表扫描，一般情况下出现这样的sql语句而且数据量比较大的话那么就需要进行优化。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--index：全索引扫描这个比all的效率要好，主要有两种情况，一种是当前的查询时覆盖索引，即我们需要的数据在索引中就可以索取，或者是使用了索引进行排序，这样就避免数据的重排序")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--range：表示利用索引查询的时候限制了范围，在指定范围内进行查询，这样避免了index的全索引扫描，适用的操作符： =, <>, >, >=, <, <=, IS NULL, BETWEEN, LIKE, or IN() ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("between")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7000")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7500")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--index_subquery：利用索引来关联子查询，不再扫描全表")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("job "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" job "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t_job"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--unique_subquery:该连接类型类似与index_subquery,使用的是唯一索引")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("distinct")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--index_merge：在查询过程中需要多个索引组合使用，没有模拟出来")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--ref_or_null：对于某个字段即需要关联条件，也需要null值的情况下，查询优化器会选择这种访问方式")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v("  e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mgr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mgr"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7369")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--ref：使用了非唯一性索引进行数据的查找")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" idx_3 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deptno"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--eq_ref ：使用唯一性索引进行数据查找")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("emp2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emp2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empno"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--const：这个表至多有一个匹配行，")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7369")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--system：表只有一行记录（等于系统表），这是const类型的特例，平时不会出现")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br")])]),e("p",[e("strong",[t._v("possible_keys")])]),t._v(" "),e("p",[t._v("​        显示可能应用在这张表中的索引，一个或多个，查询涉及到的字段上若存在索引，则该索引将被列出，但不一定被查询实际使用")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("key")])]),t._v(" "),e("p",[t._v("​\t\t实际使用的索引，如果为null，则没有使用索引，查询中若使用了覆盖索引，则该索引和查询的select字段重叠。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("key_len")])]),t._v(" "),e("p",[t._v("表示索引中使用的字节数，可以通过key_len计算查询中使用的索引长度，在不损失精度的情况下长度越短越好。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("ref")])]),t._v(" "),e("p",[t._v("显示索引的哪一列被使用了，如果可能的话，是一个常数")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dept "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dept"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("rows")])]),t._v(" "),e("p",[t._v("根据表的统计信息及索引使用情况，大致估算出找出所需记录需要读取的行数，此参数很重要，直接反应的sql找了多少数据，在完成目的的情况下越少越好")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("extra")])]),t._v(" "),e("p",[t._v("包含额外的信息。")]),t._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--using filesort:说明mysql无法利用索引进行排序，只能利用排序算法进行排序，会消耗额外的位置")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("order")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" sal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--using temporary:建立临时表来保存中间结果，查询完成之后把临时表删除")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" ename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--using index:这个表示当前的查询时覆盖索引的，直接从索引中读取数据，而不用访问数据表。如果同时出现using where 表名索引被用来执行索引键值的查找，如果没有，表面索引被用来读取数据，而不是真的查找")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" deptno"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" deptno "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--using where:使用where进行条件过滤")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" t_user "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--using join buffer:使用连接缓存，情况没有模拟出来")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--impossible where：where语句的结果总是false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" emp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" empno "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7469")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);