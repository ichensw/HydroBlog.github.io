(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{521:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"idea的postman-http-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idea的postman-http-client"}},[t._v("#")]),t._v(" IDEA的Postman(Http Client)")]),t._v(" "),a("h2",{attrs:{id:"http-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-client"}},[t._v("#")]),t._v(" HTTP Client")]),t._v(" "),a("p",[t._v("​\t"),a("a",{attrs:{href:"#qy"}},[t._v("前言")])]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#1"}},[t._v("准备")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#2"}},[t._v("创建HTTP Client文件")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#2.1"}},[t._v("直接创建文件")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#2.2"}},[t._v("创建草稿文件")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#yf"}},[t._v("语法")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#3.1"}},[t._v("注释使用#或者//")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.2"}},[t._v("如果是get请求可以省略方法说明，直接写url")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.3"}},[t._v("一个文件中多个请求以###分割")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.4"}},[t._v("body内容可以来自一个文件语法如下")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.5"}},[t._v("请求也可以传文件，语法如下")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.6"}},[t._v("@no-redirect注解：可以关闭重定向")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.7"}},[t._v("@no-log注解：可以阻止请求记录到历史记录")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.8"}},[t._v("@no-cookie-jar: 可以阻止保存cookies数据")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#3.9"}},[t._v("使用变量")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#4"}},[t._v("快速生成请求")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#4.1"}},[t._v("打开请求文件，点击Add Request菜单")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#4.2"}},[t._v("Convert from cURL")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#4.3"}},[t._v("Live Template")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#4.4"}},[t._v("Examples")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#5"}},[t._v("环境变量")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#6"}},[t._v("处理响应")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#6.1"}},[t._v("client对象")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#6.2"}},[t._v("response对象")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#7"}},[t._v("运行Http Request")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#7.1"}},[t._v("直接在http文件里面点绿色三角形运行")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#7.2"}},[t._v("创建run/debug configuration运行")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#7.3"}},[t._v("查看请求响应")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#8"}},[t._v("其他功能")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#8.1"}},[t._v("查看历史请求")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#8.2"}},[t._v("配置代理")])])]),t._v(" "),a("h3",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"qy"}},[t._v("前言")])]),t._v(" "),a("p",[t._v("idea推出了一个新功能http client，可以媲美postman，基本上实现了postman的绝大多数核心功能，更重要的是它的请求数据是纯文本的，非常方便，结合自动化脚本，很有想象空间，比如自动生成测试脚本，自动化测试等")]),t._v(" "),a("h3",{attrs:{id:"_1-准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"1"}},[t._v("1. 准备")])]),t._v(" "),a("p",[t._v("​\t要想使用这个功能需要2017.3以上的版本，但是老版本的这个功能很弱，所以建议升级到2019.3的版本可以享受全部新能力。\n默认情况插件**Java EE: RESTful Web Services (JAX-RS)**是安装了并且启用了，如果没有可以到设置里面去安装并启动下")]),t._v(" "),a("h3",{attrs:{id:"_2-创建http-client文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建http-client文件"}},[t._v("#")]),t._v(" 2. 创建HTTP Client文件")]),t._v(" "),a("h4",{attrs:{id:"_2-1-直接创建文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-直接创建文件"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"2.1"}},[t._v("2.1 直接创建文件")])]),t._v(" "),a("p",[t._v("选择路径 -> 右键 -> 新建 -> Http Request\n先择路径 -> 文件菜单 -> 新建 -> Http Request")]),t._v(" "),a("h4",{attrs:{id:"_2-2-创建草稿文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-创建草稿文件"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"2.2"}},[t._v("2.2 创建草稿文件")])]),t._v(" "),a("p",[t._v("Ctrl/Command + Shift+ Alt+ Insert\n选择Http Request")]),t._v(" "),a("h3",{attrs:{id:"_3-语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-语法"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3"}},[t._v("3. 语法")])]),t._v(" "),a("p",[t._v("每个请求都是以文本是形式存储起来，http后缀的文本文件，一个文件里面可以存储多个请求。\n它的语法格式跟http请求的内容很接近\n请求方法， 请求url，换行加上header参数，如果有body体，空一行加上body体")]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("Method Request-URI HTTP-Version\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Header-field:")]),t._v(" Header-value\n\nRequest-Body\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("下面是一个示例")]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("POST http://test.abc.com/user\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("accept:")]),t._v(" */*\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json;charset=UTF-8"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"122asseeeddd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h4",{attrs:{id:"_3-1-注释使用-或者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-注释使用-或者"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.1"}},[t._v("3.1. 注释使用#或者//")])]),t._v(" "),a("h4",{attrs:{id:"_3-2-如果是get请求可以省略方法说明-直接写url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-如果是get请求可以省略方法说明-直接写url"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.2"}},[t._v("3.2. 如果是get请求可以省略方法说明，直接写url")])]),t._v(" "),a("h4",{attrs:{id:"_3-3-一个文件中多个请求以-分割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-一个文件中多个请求以-分割"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.3"}},[t._v("3.3. 一个文件中多个请求以###分割")])]),t._v(" "),a("h4",{attrs:{id:"_3-4-body内容可以来自一个文件语法如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-body内容可以来自一个文件语法如下"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.4"}},[t._v("3.4. body内容可以来自一个文件语法如下")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("<./input.json\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3-5-请求也可以传文件-语法如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-请求也可以传文件-语法如下"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.5"}},[t._v("3.5. 请求也可以传文件，语法如下")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("POST")]),t._v(" http://example.com/api/upload HTTP/1.1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" multipart/form-data; boundary=boundary\n\n--boundary\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(' form-data; name="first"; filename="input.txt"\n\n// The \'input.txt\' file will be uploaded\n< ./input.txt\n\n--boundary\n'),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(" form-data; name=\"second\"; filename=\"input-second.txt\"\n\n// A temporary 'input-second.txt' file with the 'Text' content will be created and uploaded\nText\n--boundary\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Disposition:")]),t._v(" form-data; name=\"third\";\n\n// The 'input.txt' file contents will be sent as plain text.\n< ./input.txt --boundary--\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h4",{attrs:{id:"_3-6-no-redirect注解-可以关闭重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-no-redirect注解-可以关闭重定向"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.6"}},[t._v("3.6. @no-redirect注解：可以关闭重定向")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("// @no-redirect\nexample.com/status/301\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-7-no-log注解-可以阻止请求记录到历史记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-no-log注解-可以阻止请求记录到历史记录"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.7"}},[t._v("3.7. @no-log注解：可以阻止请求记录到历史记录")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("// @no-log\nGET example.com/api\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-8-no-cookie-jar-可以阻止保存cookies数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-no-cookie-jar-可以阻止保存cookies数据"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.8"}},[t._v("3.8 @no-cookie-jar: 可以阻止保存cookies数据")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("// @no-cookie-jar\nGET example.com/api\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-9-使用变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-使用变量"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"3.9"}},[t._v("3.9 使用变量")])]),t._v(" "),a("p",[t._v("它定义了3个变量")]),t._v(" "),a("ul",[a("li",[t._v("$uuid 唯一标识符（UUID-v4）")]),t._v(" "),a("li",[t._v("$timestamp 当前时间")]),t._v(" "),a("li",[t._v("$randomInt 0-1000的随机整数")])]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("GET http://localhost/api/get?id={{$uuid}}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-快速生成请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-快速生成请求"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"4"}},[t._v("4. 快速生成请求")])]),t._v(" "),a("h4",{attrs:{id:"_4-1-打开请求文件-点击add-request菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-打开请求文件-点击add-request菜单"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"4.1"}},[t._v("4.1 打开请求文件，点击Add Request菜单")])]),t._v(" "),a("p",[t._v("从这里可以快速添加GET请求和POST请求的模板")]),t._v(" "),a("h4",{attrs:{id:"_4-2-convert-from-curl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-convert-from-curl"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"4.2"}},[t._v("4.2 Convert from cURL")])]),t._v(" "),a("p",[t._v("这个功能可以将浏览器网络请求生成的curl命令直接导入，注意如果命令里面带–compressed后缀，需要将此后缀去掉再导入")]),t._v(" "),a("h4",{attrs:{id:"_4-3-live-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-live-template"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"4.3"}},[t._v("4.3 Live Template")])]),t._v(" "),a("p",[t._v("系统默认预置了几个基本的命令，可以快速生成GET和POST请求，这个跟Add Reqeust是对应的，可以修改他们。\n还可以补充新的，注意如果新增要选择可用的文件为Http Request")]),t._v(" "),a("h4",{attrs:{id:"_4-4-examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-examples"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"4.4"}},[t._v("4.4 Examples")])]),t._v(" "),a("p",[t._v("选择Examples，从里面选择合适的复制粘贴过来")]),t._v(" "),a("h3",{attrs:{id:"_5-环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-环境变量"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"5"}},[t._v("5.环境变量")])]),t._v(" "),a("p",[t._v("在同目录下新建一个http-client.env.json (or rest-client.env.json)文件\n就是一个配置文件，语法很简单，如下是示例")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"id-value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"my-var"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-dev-value"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"production"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"id-value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6789")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v('"my-var"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-prod-value"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("使用起来很简单")]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("GET http://{{host}}/api/json/get?id={{id-value}}&key={{unresolved_var}}\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Authorization:")]),t._v(" Basic {{username}} {{password}}\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/json"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("my"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("运行请求的时候会让你选环境的，选了环境就会用对应的变量替换请求里面的占位符。还有个http-client.private.env.json，语法用法一样，这个文件是用来存一些敏感信息，把它加到.gitignore就不会到代码库里面了，感觉用途不大。")]),t._v(" "),a("h3",{attrs:{id:"_6-处理响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-处理响应"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"6"}},[t._v("6. 处理响应")])]),t._v(" "),a("p",[t._v("这个算高级功能了，可以写一段javascript(JavaScript ECMAScript 5.1)脚本来处理接口返回的信息，语法如下")]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("GET host/api/test\n\n> {%\n// Response handler script\n...\n%}\n\n###\nhost/api/test\n\n> scripts/my-script.js\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("处理响应的第一个用途是测试，要实现这个功能得益于Http Response Handler的两个对象：")]),t._v(" "),a("h4",{attrs:{id:"_6-1-client对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-client对象"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"6.1"}},[t._v("6.1 client对象")])]),t._v(" "),a("p",[t._v("这个对象保存了session信息，可以在js脚本里被修改，而且它还可以定义client.global变量，这个变量是全局的，可以像环境变量一样使用"+t._s(t.variable_name)+".\n这个功能很强大可以实现自动登录读取cookie并设置全局变量。该对象会在IDEA关闭后失效。\n它还有两个测试方法test， assert\n详细语法参考："),a("a",{attrs:{href:"https://www.jetbrains.com/help/idea/http-client-reference.html?keymap=primary_default_for_windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP Client reference"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v('POST https://httpbin.org/cookies\n\n//Saving a cookie from the first Set-Cookie header\n> {%\n    client.global.set("my_cookie", response.headers.valuesOf("Set-Cookie")[0]);\n%}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h4",{attrs:{id:"_6-2-response对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-response对象"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"6.2"}},[t._v("6.2 response对象")])]),t._v(" "),a("p",[t._v("响应对象，包含content-type，status，response body等。\n详细语法参考："),a("a",{attrs:{href:"https://www.jetbrains.com/help/idea/http-response-reference.html?keymap=primary_default_for_windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP Response reference"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-HTTP line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v('GET https://httpbin.org/status/200\n\n> {%\n    client.test("Request executed successfully", function() {\n        client.assert(response.status === 200, "Response status is not 200");\n    });\n%}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"_7-运行http-request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-运行http-request"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"7"}},[t._v("7. 运行Http Request")])]),t._v(" "),a("h4",{attrs:{id:"_7-1-直接在http文件里面点绿色三角形运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-直接在http文件里面点绿色三角形运行"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"7.1"}},[t._v("7.1 直接在http文件里面点绿色三角形运行")])]),t._v(" "),a("p",[t._v("直接执行会创建一个临时的run/debug配置，保存后可以快捷运行请求")]),t._v(" "),a("h4",{attrs:{id:"_7-2-创建run-debug-configuration运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-创建run-debug-configuration运行"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"7.2"}},[t._v("7.2 创建run/debug configuration运行")])]),t._v(" "),a("p",[t._v("在请求上点右键选择**[创建 ’http-request#1‘]**\n如果有环境变量会让你设置运行的环境变量\n创建完就可以run/debug下拉列表里面选中并快速运行请求了")]),t._v(" "),a("h4",{attrs:{id:"_7-3-查看请求响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-查看请求响应"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"7.3"}},[t._v("7.3 查看请求响应")])]),t._v(" "),a("p",[t._v("进入run窗口，选中对应的请求标签页，即可看到响应，可以选择查看格式：\nXML，JSON，HTML")]),t._v(" "),a("h3",{attrs:{id:"_8-其他功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-其他功能"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"8"}},[t._v("8. 其他功能")])]),t._v(" "),a("h4",{attrs:{id:"_8-1-查看历史请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-查看历史请求"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"8.1"}},[t._v("8.1 查看历史请求")])]),t._v(" "),a("p",[t._v("Tool -> Http Client -> SHow Http Requests History")]),t._v(" "),a("h4",{attrs:{id:"_8-2-配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-配置代理"}},[t._v("#")]),t._v(" "),a("span",{attrs:{id:"8.2"}},[t._v("8.2 配置代理")])]),t._v(" "),a("p",[t._v("既然是http请求，那自然是可以设置代理，这个功能它也是支持的。\nSettings -> System Settings -> Apperance & Behavior -> HTTP Proxy")]),t._v(" "),a("p",[t._v("参考文档："),a("a",{attrs:{href:"https://blog.csdn.net/clover402/article/details/103562965",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDEA的Postman(Http Client)"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("作者："),a("a",{attrs:{href:"https://blog.csdn.net/kyo870526",target:"_blank",rel:"noopener noreferrer"}},[t._v("kyo870526"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);